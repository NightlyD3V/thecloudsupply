<div class="distance" data-section-id="{{ section.id }}" data-section-type="nov-owl" style="padding-top: {{ section.settings.distance_top }}; padding-bottom: {{ section.settings.distance_bottom }}">
	{% if section.settings.has_fullwidth == false %}
 	<div class="container">
	{% endif %}
		{% if section.settings.title != blank %}
	      	<div class="title_block {{ section.settings.title_alignment }}">
	        	<div class="left">
	        		<span class="bground">
	        			<i class="material-icons">dehaze</i>{{ section.settings.title | nofilter }}
	        		</span>
		            {% if section.settings.subheading != blank %}
		            	<span class="sub_title">{{ section.settings.subheading | escape }}</span>
		            {% endif %}
		        </div>
	      	</div>
	    {% endif %}

	    {%- assign collection = collections[section.settings.collection] -%}

	    {% case section.settings.grid_number %}
	    {% when '2' %}
	      {%- assign img_size = settings.img_size_large -%}
	    {% when '3' %}
	      {%- assign img_size = settings.img_size_large -%}
	    {% when '4' %}
	      {%- assign img_size = settings.img_size -%}
	    {% when '5' %}
	      {%- assign img_size = settings.img_size -%}
	    {% when '6' %}
	      {%- assign img_size = settings.img_size -%}
	    {% endcase %}

	    {%- assign product_limit = section.settings.limit -%}
	    
		<div class="box-shop-by">
		    <div class="grid grid--view-items nov-owl-carousel owl-carousel owl-theme nav_top text-center text-capitalize nov-shop-by-cagegories"
		        data-autoplay="false" 
		        data-autoplayTimeout="6000" 
		        data-loop="{{ section.settings.repeat_loop }}"
		        data-dots="{{ section.settings.show_dots }}" 
		        data-nav="{{ section.settings.show_nav }}" 
		        data-row="{{ section.settings.number_row }}" 
		        data-items="{{ section.settings.grid_number }}" 
		        data-items_lg_tablet="{{ section.settings.grid_number_lg_tablet }}" 
		        data-items_tablet="{{ section.settings.items_tablet }}" 
		        data-items_mobile="{{ section.settings.items_mobile }}">
				{% for blocks in section.blocks %}
					<div class="pr-15 pl-15 product__down">
		        		<div class="img-shop">
		        			<a href="{{ blocks.settings.link_title }}">
		        				<img class="img-fluid" src="{{ blocks.settings.img | img_url: '768x' }}" alt="">
		        			</a>
		        		</div>
		        		<div class="menu-shop">
		        			<div class="title">
		        				<a href="{{ blocks.settings.link_title }}">{{ blocks.settings.title | escape }}</a>
		        			</div>
							<div class="link-menu">
								{% for link in linklists[blocks.settings.link_list].links %}
									{%- assign three_level_nav = false -%}
			            			{%- assign child_list_handle = link.title | handleize -%}
			            			{% if linklists[child_list_handle].links != blank %}
			              				{% for childlink in linklists[child_list_handle].links %}
				                			{% assign grand_child_list_handle = childlink.title | handleize %}
				                			{% if linklists[grand_child_list_handle].links != blank %}
					                  			{%- assign three_level_nav = true -%}
					            			{% endif %}
				       					{% endfor %}
			            			{% endif %}
			            			{% if linklists[child_list_handle].links != blank %}
			              				<div class="link_menu hasSubCategory open">
							                <span class="arrow"></span>
							                <a class="menu-item {% if link.active %}active{% endif %}" href="{{ link.url }}">{{ link.title }}</a>
							                <div class="subCategory" id="subCategory-{{ child_list_handle }}">
							                  	{% for childlink in linklists[child_list_handle].links %}
								                    <div class="cateTitle">
								                      <a href="{{ childlink.url }}" class="menu-item{% if childlink.active %} active{% endif %}{% if forloop.last %} menu-item--last{% endif %}">{{ childlink.title | escape }}</a>
								                    </div>
			              						{% endfor %}
			                				</div>
			              				</div>
			            			{% else %}
						              	<div class="link_menu">
						                  	<a class="menu-item {% if link.active %}active{% endif %}" href="{{ link.url }}">{{ link.title }}</a>
						              	</div>
			  				 		{% endif %}
								{% endfor %}
							</div>
		        		</div>
					</div>
				{% endfor %}
			</div>
		</div>

	{% if section.settings.has_fullwidth == false %}
 	</div>
	{% endif %}
</div>
{% schema %}
	{
		"name": "Shop by",
		"class": "shop-by",
		"max_blocks": 6,
		"settings": [
			{
				"type": "text",
				"id": "title",
				"label": "Heading",
				"default": "Shop By Cagegories"
			},
			{
		        "type": "text",
		        "id": "subheading",
		        "label": "Sub Heading"
		    },
		    {
		        "type": "select",
		        "id": "title_alignment",
		        "label": "Title alignment",
		        "default": "text-left",
		        "options": [
		          {
		            "value": "text-left",
		            "label": "Left"
		          },
		          {
		            "value": "text-center",
		            "label": "Center"
		          },
		          {
		            "value": "text-right",
		            "label": "Right"
		          }
		        ]
		    },
			{
		        "type": "checkbox",
		        "id": "has_fullwidth",
		        "label": "Full Width",
		        "default": false
		    },
		    {
		        "type": "select",
		        "id": "grid_number",
		        "label": "Products per row (grid only)",
		        "default": "4",
		        "options": [
		          	{
	            		"value": "2",
		            	"label": "2"
		          	},
		          	{
		            	"value": "3",
		            	"label": "3"
		          	},
		          	{
		            	"value": "4",
		            	"label": "4"
		          	},
		          	{
		            	"value": "5",
		            	"label": "5"
		          	},
		          	{
		            	"value": "6",
		            	"label": "6"
		          	}
		        ]
	      	},
	      	{
		        "type": "range",
		        "id": "limit",
		        "min": 4,
		        "max": 30,
		        "step": 1,
		        "label": "Limit",
		        "default": 8,
		        "info": "Select number limit products"
	      	},
	      	{
		        "type": "select",
		        "id": "number_row",
		        "label": "Number row",
		        "default": "1",
		        "options": [
	          		{
		            	"value": "1",
		            	"label": "1"
		          	},
		          	{
		            	"value": "2",
		            	"label": "2"
		          	},
		          	{
		            	"value": "3",
		            	"label": "3"
		          	}
		        ]
	      	},
	      	{
		        "type": "range",
		        "id": "grid_number_lg_tablet",
		        "min": 1,
		        "max": 6,
		        "step": 1,
		        "label": "Products per row (Desktop)",
		        "default": 3
	      	},
	      	{
		        "type": "range",
		        "id": "items_tablet",
		        "min": 1,
		        "max": 6,
		        "step": 1,
		        "label": "Items Tablet",
		        "default": 3,
		        "info": "Select number Items Tablet for slider"
	      	},
	      	{
		        "type": "range",
		        "id": "items_mobile",
		        "min": 1,
		        "max": 6,
		        "step": 1,
		        "label": "Items Mobile",
		        "default": 2,
		        "info": "Select number Items Mobile for slider"
	      	},
      		{
		        "type": "select",
		        "id": "repeat_loop",
		        "label": "Repeat Loop",
		        "options": [
		          	{
		            	"value": "true",
		            	"label": "true"
	          		},
		          	{
		            	"value": "false",
		            	"label": "false"
		          	}
		        ]
	      	},
	      	{
		        "type": "checkbox",
		        "id": "show_dots",
		        "label": "Show dots",
		        "default": false
	      	},
	      	{
		        "type": "checkbox",
		        "id": "show_nav",
		        "label": "Show Navigation",
		        "default": false
	      	},
		    {
		        "type": "text",
		        "id": "distance_top",
		        "label": "Top Distance Section",
		        "default": "30px"
	      	},
	      	{
		        "type": "text",
		        "id": "distance_bottom",
		        "label": "Bottom Distance Section",
		        "default": "30px"
	      	}
		],
		"blocks": [
			{
				"type": "tabitem",
				"name": "tab item",
				"settings": [
					{
						"type": "image_picker",
						"id": "img",
						"label": "Image"
					},
					{
						"type": "text",
						"id": "title",
						"label": "Title"
					},
					{
						"type": "url",
						"id": "link_title",
						"label": "Link for Title"
					},
					{
						"type": "link_list",
						"id": "link_list",
						"label": "Choose menu",
						"info": "Choose menu"
					}
				]
			}
		],
		"presets": [{
	    "name": "Shop by selection",
	    "category": "Shop by"
	  }]  
	}
{% endschema %}